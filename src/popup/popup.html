<!DOCTYPE html>
<html>

<head>
    <title>HarnessNation+</title>
    <link href="/public/fonts/Roboto.css" rel="stylesheet" />
    <link href="/public/fonts/MaterialSymbolsOutlined.css" rel="stylesheet" />
    <link href="popup.css" rel="stylesheet" />
    <script src="/public/components/tooltip.js"></script>
</head>

<body>
    <header id="page-header">
        <h1 class="extension-name">HarnessNation+</h1>
    </header>

    <main id="page-content">
        <section class="active">
            <a name="stallion-settings"></a>

            <details open>
                <summary>
                    <h2>Stallion Management</h2>
                </summary>

                <p>
                    Use the settings below to update your stallion management feature settings.
                </p>

                <div class="input-row">
                    <strong>
                        Stud Fee Formula
                        <a href="#stud-fee-formula-info" role="dialog">
                            <span class="material-symbols-outlined">help</span>
                        </a>
                    </strong>

                    <select name="stallions.management.formula"></select>
                </div>

                <dialog id="stud-fee-formula-info">
                    <p>
                        The stud fee calculator breaks its calculations down into two formulas: without racing
                        offspring, and with racing offspring.
                        The table below details the available formula sets.
                    </p>

                    <h4>Apex Formula Set</h4>
                    <ul>
                        <li>
                            If the stud has racing offspring:<br />
                            <code style="white-space:nowrap">[average earanings per starter] / 4</code>
                        </li>

                        <li>
                            If the stud does not have racing offspring:<br />
                            <code style="white-space:nowrap">[lifetime earnings] / [lifetime starts]</code>
                        </li>
                    </ul>

                    <h4>Ridge Formula Set</h4>
                    <ul>
                        <li>
                            If the stud has racing offspring:<br />
                            <code style="white-space:nowrap">5000 + ([average earanings per starter] / 2)</code>
                        </li>

                        <li>
                            If the stud does not have racing offspring:<br />
                            <code style="white-space:nowrap">5000 + ([lifetime earnings] / 20)</code>
                        </li>
                    </ul>
                </dialog>
            </details>

            <details open>
                <summary>
                    <h2>Stallion Registry</h2>
                </summary>

                <p>
                    Use the settings below to update your stallion registry feature settings.
                </p>

                <div class="input-row">
                    <strong>
                        Use Bloodline Search
                        <a href="#bloodline-search-info" role="dialog">
                            <span class="material-symbols-outlined">help</span>
                        </a>
                    </strong>

                    <input data-initializing name="stallions.registry.bloodlineSearch" role="toggle" type="checkbox" />
                </div>

                <dialog id="bloodline-search-info">
                    <p>
                        Use this option to enable bloodline searching in the public stallion registry. This will allow
                        you to search for an ancestor in the stallion's sire line.
                    </p>

                    <p>
                        For example, searching for "Just Call Me Sparky" will match him, his sons, his sons' sons, and
                        so on.
                    </p>
                </dialog>

                <div class="input-row">
                    <strong>
                        Max Depth
                        <a href="#bloodline-search-max-depth-info" role="dialog">
                            <span class="material-symbols-outlined">help</span>
                        </a>
                    </strong>

                    <select name="stallions.registry.maxGenerations">
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>

                <dialog id="bloodline-search-max-depth-info">
                    <p>
                        Defines the maximum number of generations to traverse in the bloodline search.
                    </p>
                </dialog>

                <section class="actions">
                    <button name="clear-stallion-cache" type="button">
                        <span class="material-symbols-outlined">cached</span>
                        Clear Cache
                    </button>
                </section>
            </details>
        </section>

        <section>
            <a name="table-settings"></a>

            <details open>
                <summary>
                    <h2>Main Stable</h2>
                </summary>

                <p>
                    Use the settings below to control how the table options are stored on your main stable page.
                </p>

                <div class="input-row">
                    <strong>
                        Save Settings
                    </strong>

                    <input data-initializing name="dt.main.enabled" role="toggle" type="checkbox" />
                </div>

                <div class="input-row">
                    <strong>
                        Duration
                    </strong>

                    <div class="save-duration">
                        <select name="dt.main.mode"></select>
                        <input min="0" name="dt.main.duration" type="number" />
                        <select name="dt.main.displayUnits"></select>
                    </div>
                </div>
            </details>

            <details open>
                <summary>
                    <h2>Breeding Stable</h2>
                </summary>

                <p>
                    Use the settings below to control how the table options are stored on your breeding stable page.
                </p>

                <div class="input-row">
                    <strong>
                        Save Settings
                    </strong>

                    <input data-initializing name="dt.breeding.enabled" role="toggle" type="checkbox" />
                </div>

                <div class="input-row">
                    <strong>
                        Duration
                    </strong>

                    <div class="save-duration">
                        <select name="dt.breeding.mode"></select>
                        <input min="0" name="dt.breeding.duration" type="number" />
                        <select name="dt.breeding.displayUnits"></select>
                    </div>
                </div>
            </details>

            <details open>
                <summary>
                    <h2>Horse Progeny</h2>
                </summary>

                <p>
                    Use the settings below to control how the table options are stored for the stallion and broodmare progeny popups.
                </p>

                <div class="input-row">
                    <strong>
                        Save Settings
                    </strong>

                    <input data-initializing name="dt.progeny.enabled" role="toggle" type="checkbox" />
                </div>

                <div class="input-row">
                    <strong>
                        Duration
                    </strong>

                    <div class="save-duration">
                        <select name="dt.progeny.mode"></select>
                        <input min="0" name="dt.progeny.duration" type="number" />
                        <select name="dt.progeny.displayUnits"></select>
                    </div>
                </div>
            </details>
        </section>

        <section>
            <a name="extension-settings"></a>

            <details open>
                <summary>
                    <h2>Extension Settings</h2>
                </summary>

                <p>
                    To reset your extensions to their defaults, click the button below.
                </p>

                <section class="actions" style="text-align:center">
                    <button name="reset-settings" type="button">
                        <span class="material-symbols-outlined">delete_sweep</span>
                        Reset All Settings
                    </button>
                </section>
            </details>
        </section>
    </main>

    <footer id="page-footer">
        <nav>
            <a class="active" href="#stallion-settings">
                <span class="material-symbols-outlined">warehouse</span>
                <span>Stallions</span>
            </a>

            <a href="#table-settings">
                <span class="material-symbols-outlined">table</span>
                <span>Tables</span>
            </a>

            <a href="#extension-settings">
                <span class="material-symbols-outlined">settings</span>
                <span>Settings</span>
            </a>
        </nav>
    </footer>

    <script type="module" src="popup.js"></script>
</body>

</html>